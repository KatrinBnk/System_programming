<Application x:Class="SysProgLaba1.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:SysProgLaba1"
             StartupUri="MainWindow.xaml">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Тема по умолчанию, будет заменена в коде -->
                <ResourceDictionary x:Name="ThemeDictionary" />
            </ResourceDictionary.MergedDictionaries>
            
            <!-- Светлая тема -->
            <ResourceDictionary x:Key="LightTheme">
                <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#FFFFFF"/>
                <SolidColorBrush x:Key="ControlBackgroundBrush" Color="#F0F0F0"/>
                <SolidColorBrush x:Key="TextBrush" Color="#000000"/>
                <SolidColorBrush x:Key="BorderBrush" Color="#CCCCCC"/>
                <SolidColorBrush x:Key="ButtonBackgroundBrush" Color="#E1E1E1"/>
                <SolidColorBrush x:Key="ButtonHoverBrush" Color="#D0D0D0"/>
                <SolidColorBrush x:Key="ButtonPressedBrush" Color="#C0C0C0"/>
                <SolidColorBrush x:Key="LineNumberBackgroundBrush" Color="#F0F0F0"/>
                <SolidColorBrush x:Key="LineNumberForegroundBrush" Color="Gray"/>
                <SolidColorBrush x:Key="ErrorBrush" Color="Red"/>
                <SolidColorBrush x:Key="ComboBoxItemHoverBrush" Color="#E5E5E5"/>
                <SolidColorBrush x:Key="ComboBoxItemSelectedBrush" Color="#CCE8FF"/>
                <SolidColorBrush x:Key="ComboBoxItemTextBrush" Color="#000000"/>
                
                <!-- Стиль кнопки -->
                <Style TargetType="Button">
                    <Setter Property="Background" Value="{DynamicResource ButtonBackgroundBrush}"/>
                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                    <Setter Property="Padding" Value="10,5"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="1"
                                        CornerRadius="3">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ButtonHoverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
                
                <!-- Стиль для элементов ComboBox -->
                <Style TargetType="ComboBoxItem">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="{DynamicResource ComboBoxItemTextBrush}"/>
                    <Setter Property="Padding" Value="5,3"/>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ComboBoxItemHoverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ComboBoxItemSelectedBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
                
                <!-- Стиль для ComboBox (popup) -->
                <Style TargetType="ComboBox">
                    <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                    <Style.Resources>
                        <Style TargetType="Border">
                            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
                            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                        </Style>
                    </Style.Resources>
                </Style>
            </ResourceDictionary>
            
            <!-- Темная тема -->
            <ResourceDictionary x:Key="DarkTheme">
                <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#1E1E1E"/>
                <SolidColorBrush x:Key="ControlBackgroundBrush" Color="#2D2D30"/>
                <SolidColorBrush x:Key="TextBrush" Color="#E0E0E0"/>
                <SolidColorBrush x:Key="BorderBrush" Color="#3F3F46"/>
                <SolidColorBrush x:Key="ButtonBackgroundBrush" Color="#3E3E42"/>
                <SolidColorBrush x:Key="ButtonHoverBrush" Color="#4E4E52"/>
                <SolidColorBrush x:Key="ButtonPressedBrush" Color="#5E5E62"/>
                <SolidColorBrush x:Key="LineNumberBackgroundBrush" Color="#252526"/>
                <SolidColorBrush x:Key="LineNumberForegroundBrush" Color="#858585"/>
                <SolidColorBrush x:Key="ErrorBrush" Color="#F48771"/>
                <SolidColorBrush x:Key="ComboBoxItemHoverBrush" Color="#3E3E40"/>
                <SolidColorBrush x:Key="ComboBoxItemSelectedBrush" Color="#094771"/>
                <SolidColorBrush x:Key="ComboBoxItemTextBrush" Color="#000000"/>
                
                <!-- Стиль кнопки -->
                <Style TargetType="Button">
                    <Setter Property="Background" Value="{DynamicResource ButtonBackgroundBrush}"/>
                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                    <Setter Property="Padding" Value="10,5"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="1"
                                        CornerRadius="3">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ButtonHoverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ButtonPressedBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
                
                <!-- Стиль для элементов ComboBox -->
                <Style TargetType="ComboBoxItem">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="{DynamicResource ComboBoxItemTextBrush}"/>
                    <Setter Property="Padding" Value="5,3"/>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ComboBoxItemHoverBrush}"/>
                        </Trigger>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="{DynamicResource ComboBoxItemSelectedBrush}"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
                
                <!-- Стиль для ComboBox (popup) -->
                <Style TargetType="ComboBox">
                    <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
                    <Setter Property="Foreground" Value="{DynamicResource TextBrush}"/>
                    <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                    <Style.Resources>
                        <Style TargetType="Border">
                            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
                            <Setter Property="BorderBrush" Value="{DynamicResource BorderBrush}"/>
                        </Style>
                    </Style.Resources>
                </Style>
            </ResourceDictionary>
        </ResourceDictionary>
    </Application.Resources>
</Application>

